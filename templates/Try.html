

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shortest Path Visualization</title>
    <script src="https://d3js.org/d3.v6.min.js"></script>
    <style>
        svg {
            border: 1px solid black;
        }
        .point {
            fill: red;
            cursor: pointer;
        }
        .line {
            stroke: blue;
            stroke-width: 2;
        }
    </style>
</head>
<body>
    <h1>Shortest Path Visualization</h1>
    <svg width="500" height="500"></svg>
    <script>
        const points = {{ points | safe }};
        const svg = d3.select("svg");

        // Draw points
        svg.selectAll("circle")
            .data(points)
            .enter()
            .append("circle")
            .attr("class", "point")
            .attr("cx", d => d.x)
            .attr("cy", d => d.y)
            .attr("r", 5)
            .on("click", function(event, d) {
                d3.select(this).classed("selected", !d3.select(this).classed("selected"));
                calculateShortestPath();
            });

        function calculateShortestPath() {
            const selectedPoints = svg.selectAll(".point.selected").data();
            if (selectedPoints.length < 2) return;

            // Clear previous lines
            svg.selectAll(".line").remove();

            // Draw lines between selected points
            for (let i = 0; i < selectedPoints.length - 1; i++) {
                const start = selectedPoints[i];
                const end = selectedPoints[i + 1];

                svg.append("line")
                    .attr("class", "line")
                    .attr("x1", start.x)
                    .attr("y1", start.y)
                    .attr("x2", end.x)
                    .attr("y2", end.y);
            }
        }
    </script>
</body>
</html>